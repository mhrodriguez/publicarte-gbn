{% extends 'baseabc.html.twig' %}

{% block body %}
    <div class="mdl-grid">
        <div class="mdl-cell mdl-cell--12-col">
        <h3>Relacionados a {{ productopadre.nombre }}</h3>
        </div>
    </div>

    <div class="mdl-grid">
        <div class="mdl-cell mdl-cell--1-col">
            <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored"
                    onclick="window.location.href='{{ path('producto_relacionadodependiente_new', {'idProducto' : productopadre.id }) }}'">
                Nuevo
            </button>
        </div>
        <div class="mdl-cell mdl-cell--1-col"></div>
        <div class="mdl-cell mdl-cell--1-col"></div>
        <div class="mdl-cell mdl-cell--1-col"></div>
        <div class="mdl-cell mdl-cell--1-col"></div>
        <div class="mdl-cell mdl-cell--1-col"></div>
        <div class="mdl-cell mdl-cell--1-col"></div>
        <div class="mdl-cell mdl-cell--1-col"></div>
        <div class="mdl-cell mdl-cell--1-col"></div>
        <div class="mdl-cell mdl-cell--1-col"></div>
        <div class="mdl-cell mdl-cell--1-col"></div>
        <div class="mdl-cell mdl-cell--1-col"></div>
    </div>

    <div class="mdl-grid">
    <div class="mdl-cell mdl-cell--12-col">
        <table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
        <thead>
            <tr>
                <th class="mdl-data-table__cell--non-numeric">Nombre</th>
                <th class="mdl-data-table__cell--non-numeric">Categoria</th>
                <th class="mdl-data-table__cell--non-numeric">Subcategoria</th>
                <th class="mdl-data-table__cell--non-numeric">Precio</th>
                <th class="mdl-data-table__cell--non-numeric">Activo</th>
                <th class="mdl-data-table__cell--non-numeric">Operaciones</th>
            </tr>
        </thead>
        <tbody>
        {% for producto in productos %}
            <tr>
                <td class="mdl-data-table__cell--non-numeric">{{ producto.nombre }}</td>
                <td class="mdl-data-table__cell--non-numeric">
                    {% if producto.categoria is not empty %}
                    {{ producto.categoria.nombre }}
                    {% endif %}
                </td>
                <td class="mdl-data-table__cell--non-numeric">
                    {% if producto.subcategoria is not empty %}
                    {{ producto.subcategoria.nombre }}
                    {% endif %}
                </td>
                <td>{{ producto.moneda.simbolo }}{{ producto.precio }}</td>
                <td class="mdl-data-table__cell--non-numeric">{% if producto.activo %}Si{% else %}No{% endif %}</td>
                <td>
                    <a href="{{ path('producto_relacionadodependiente_edit', { 'id': producto.id, 'idProducto' : productopadre.id }) }}"><i class="material-icons">edit</i></a>
                    <span></span>
                    <a href="{{ path('productoimagen_index', { 'idProducto': producto.id }) }}"><i class="material-icons">photo_library</i></a>
                    <span></span>
                    {% if producto.independiente %}
                    <a href="{{ path('producto_relacionado_index', { 'idProducto': producto.id }) }}"><i class="material-icons">add</i></a>
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    </div>
    </div>

    <div class="mdl-grid">
        <div class="mdl-cell mdl-cell--12-col">
            <a href="{{ path('producto_index') }}">Volver a productos</a></div>
    </div>
{% endblock %}
